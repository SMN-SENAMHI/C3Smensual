<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pronósticos Mensuales C3S - SMN-SENAMHI</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
        select { font-size: 16px; padding: 6px; margin: 10px; }
        .images { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 20px; }
        .img-container { text-align: center; width: 30%; }
        .img-container img { width: 100%; border: 1px solid #ccc; box-shadow: 2px 2px 6px rgba(0,0,0,0.1); }
        .img-container p { font-size: 14px; margin: 5px 0; }
    </style>
</head>
<body>
    <h2>Pronóstico Mensual C3S por Dirección Zonal - 2025</h2>
    <p>Selecciona un mes para visualizar las anomalías de precipitación, temperatura mínima y máxima por DZ:</p>

    <label for="monthSelect">Mes:</label>
    <select id="monthSelect">
        <option value="">-- Elegir mes --</option>
        <option value="202506">Junio 2025</option>
        <option value="202507">Julio 2025</option>
        <option value="202508">Agosto 2025</option>
        <option value="202509">Setiembre 2025</option>
        <option value="202510">Octubre 2025</option>
    </select>

    <div class="images" id="imageContainer"></div>

    <script>
        const imageContainer = document.getElementById("imageContainer");
        const baseUrl = "https://smn-senamhi.github.io/C3Smensual/data/graphics/DZ/";
        const dzList = {
            "01": "PIURA", "02": "LAMBAYEQUE", "03": "CAJAMARCA", "04": "LIMA",
            "05": "ICA", "06": "AREQUIPA", "07": "TACNA", "08": "LORETO",
            "09": "SAN MARTÍN", "10": "HUÁNUCO", "11": "JUNÍN", "12": "CUSCO", "13": "PUNO"
        };
        const variables = [
            { code: "anomPrec", label: "Precipitación" },
            { code: "anomTempMin", label: "Temp. Mínima" },
            { code: "anomTempMax", label: "Temp. Máxima" }
        ];

        document.getElementById("monthSelect").addEventListener("change", function () {
            const month = this.value;
            imageContainer.innerHTML = "";

            if (!month) return;

            for (const dzCode in dzList) {
                const dzName = dzList[dzCode];
                variables.forEach(v => {
                    const filename = `pre_ecmwf_${month}_${v.code}_per_${dzCode}.png`;
                    const fullPath = baseUrl + filename;

                    const div = document.createElement("div");
                    div.className = "img-container";

                    const img = document.createElement("img");
                    img.src = fullPath;
                    img.alt = `${v.label} - ${dzName}`;

                    const caption = document.createElement("p");
                    caption.textContent = `${v.label} - DZ ${dzName}`;

                    div.appendChild(img);
                    div.appendChild(caption);
                    imageContainer.appendChild(div);
                });
            }
        });
    </script>
</body>
</html>
